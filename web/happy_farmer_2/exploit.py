import requests

# Библиотека, чтобы мы видели, как быстро выполняются запросы (не обязательно):
from tqdm import trange


def solve(url):
    """ Все запросы будем делать через сессию, чтобы 
    сохранять нашу куку, чтобы сайт помнил, что это мы
    """
    session = requests.Session()


    jap_chars = '零一二三四五六七八九'
    # Создадим словарь из японского иероглифа в арабскую цифру:
    jap_chars_to_arabic = dict(zip(jap_chars, range(10)))


    # Если не имортнули tqdm наверху, заменить trange на range:
    for i in trange(1000):
        r = session.get(url)

        entries = []
        # Найдем вхождения японских иероглифов:
        for char in r.text:
            if char in jap_chars:
                entries.append(char)

        s = ''
        # Переведем эту строку в строку арабских цифр
        for char in entries:
            s += str(jap_chars_to_arabic[char])

        # Отправим решенную капчу
        r = session.post(f'{url}/send_captcha', data={'ans': s})

    # Теперь, когда отправили все 1000 капч, получим флаг:
    return session.get(url).text


if __name__ == "__main__":
    print(solve(input("Адрес: ")))
